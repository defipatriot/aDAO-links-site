<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>aDAO Lore - Galaxy Map</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #0D0D0D;
            color: #EAEAEA;
            overflow: hidden; /* Prevent scrollbars from the galaxy */
        }
        .galaxy-bg {
            background-image: radial-gradient(circle, rgba(45, 212, 191, 0.1) 0%, rgba(13, 13, 13, 0) 70%);
        }
        .galaxy-container {
            position: relative;
            width: 100%;
            height: 100%;
            max-width: 900px;
            max-height: 900px;
            aspect-ratio: 1 / 1;
        }
        .central-sun {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 140px;
            height: 140px;
            z-index: 10;
        }
        .central-sun img {
            animation: pulseSun 5s ease-in-out infinite;
            border-radius: 50%;
        }
        @keyframes pulseSun {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        .planet {
            position: absolute;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            background-size: cover;
            background-position: center;
        }
        .planet:hover {
            transform: translate(-50%, -50%) scale(1.2) !important;
            z-index: 20;
        }
        .planet-name {
            position: absolute;
            top: -25px; /* Positioned above the planet */
            left: 50%;
            transform: translateX(-50%);
            color: #d1d5db; /* gray-300 */
            font-size: 0.8rem;
            font-weight: 600;
            white-space: nowrap;
            text-shadow: 0 0 5px #000; /* Add shadow for readability */
        }
        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        .modal-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }
        .modal-content {
            background: #1a1a1a;
            border: 1px solid #2e2e2e;
            padding: 2rem;
            border-radius: 1rem;
            max-width: 800px;
            width: 90%;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        .modal-overlay.active .modal-content {
            transform: scale(1);
        }
        .modal-stats-table {
            width: 100%;
            font-size: 1.1rem;
        }
        .modal-stats-table td {
            padding: 0.5rem;
        }
        .modal-stats-table td:first-child {
            font-weight: 600;
            color: #9ca3af;
            text-align: right;
            padding-right: 1rem;
        }
        #modal-description h4 {
            font-size: 1.1rem;
            font-weight: 700;
            color: #fff;
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body class="antialiased">

    <header class="py-6 absolute top-0 w-full z-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative flex justify-center items-center">
            <a href="index.html" class="absolute left-4 sm:left-6 lg:left-8 text-cyan-400 hover:text-white transition-colors duration-300 font-semibold">
                &larr; Back to Dashboard
            </a>
            <div class="flex items-center">
                <img src="https://raw.githubusercontent.com/defipatriot/aDAO-Image-Files/main/aDAO%20Logo.svg" alt="Alliance DAO Logo" class="h-10 w-10 mr-4">
                <h1 class="text-3xl font-bold text-center text-white">The AllianceDAO</h1>
            </div>
        </div>
    </header>

    <main class="w-full h-screen flex justify-center items-center galaxy-bg">
        <div class="galaxy-container">
            <div class="central-sun">
                <img src="https://raw.githubusercontent.com/defipatriot/aDAO-Image-Files/main/terra-luna-logo.svg" alt="Terra Luna Logo" class="rounded-full">
            </div>
            <!-- Planets will be generated by JavaScript -->
        </div>
    </main>

    <!-- Modal for Planet Info -->
    <div id="planet-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="flex justify-between items-start mb-4">
                <h2 id="modal-title" class="text-3xl font-bold text-white">Planet Name</h2>
                <button id="modal-close" class="text-gray-400 hover:text-white text-3xl leading-none">&times;</button>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-6">
                <div class="flex justify-center items-center">
                    <div id="modal-image-container" class="w-[200px] h-[200px] bg-gray-900 rounded-full bg-cover bg-center border-2 border-gray-700">
                        <!-- Planet image will be set as a background -->
                    </div>
                </div>
                <div>
                    <table id="modal-stats" class="modal-stats-table">
                        <!-- Stats will be injected here -->
                    </table>
                </div>
            </div>
            <div id="modal-description" class="text-gray-300 text-base leading-relaxed max-h-60 overflow-y-auto pr-2">
                 <!-- Description will be injected here -->
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const galaxyContainer = document.querySelector('.galaxy-container');
            const modal = document.getElementById('planet-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalImageContainer = document.getElementById('modal-image-container');
            const modalStats = document.getElementById('modal-stats');
            const modalDescription = document.getElementById('modal-description');
            const modalClose = document.getElementById('modal-close');

            const planets = [
                { 
                    name: "Gredica", 
                    sizeCategory: "Large Gas Giant", 
                    image: "https://raw.githubusercontent.com/defipatriot/aDAO-Image-Files/main/Gredica.png",
                    stats: { Terrain: "Flowerbeds", Coordinates: "1998F, 2777D, H778R", Circumference: "102,099 AU", Inhabitants: "Gredicans" },
                    description: `Gredica is one of the most peculiar of the 10 planets...` // Full description omitted for brevity
                },
                { 
                    name: "Pampas", 
                    sizeCategory: "Gas Giant", 
                    image: "https://raw.githubusercontent.com/defipatriot/aDAO-Image-Files/main/Pampas.png",
                    stats: { Terrain: "Meadows", Coordinates: "5554, 67D98, 5346H", Circumference: "100,766 AU", Inhabitants: "Pampans" },
                    description: `Pampas has a moderate climate...`
                },
                { name: "Crutha", sizeCategory: "Gas Giant", description: "Lore for Crutha..." },
                { name: "Sindari", sizeCategory: "Large Terrestrial", description: "Lore for Sindari..." },
                { 
                    name: "Crystall", 
                    sizeCategory: "Standard", 
                    image: "https://raw.githubusercontent.com/defipatriot/aDAO-Image-Files/main/Crystall.png", 
                    stats: { Terrain: "Crystal", Coordinates: "8750K, 304R, 9982K", Circumference: "40,075 AU", Inhabitants: "Crystallians" },
                    description: `Crystall is the crown jewel of the 10 planets...`
                },
                { 
                    name: "Ozara", 
                    sizeCategory: "Standard", 
                    image: "https://raw.githubusercontent.com/defipatriot/aDAO-Image-Files/main/Ozara.png", 
                    stats: { Terrain: "Desert", Coordinates: "112xr3, 33r, 8439z", Circumference: "40,075 AU", Inhabitants: "Ozarans" },
                    description: `Ozara is a desert planet...`
                },
                { name: "Lusa", sizeCategory: "Standard", description: "Lore for Lusa..." },
                { name: "Kita", sizeCategory: "Standard", description: "Lore for Kita..." },
                { name: "Zando", sizeCategory: "Medium Terrestrial", description: "Lore for Zando..." },
                { 
                    name: "Minas", 
                    sizeCategory: "Small Terrestrial", 
                    image: "https://raw.githubusercontent.com/defipatriot/aDAO-Image-Files/main/Minas.png", 
                    stats: { Terrain: "Asteroid", Coordinates: "44434, 97A66, 1328H", Circumference: "4,777 AU", Inhabitants: "Minasans" },
                    description: `Minas, technically classified as a dwarf planet...`
                }
            ];

            const sizeMap = {
                "Large Gas Giant": 100, "Gas Giant": 80, "Large Terrestrial": 70,
                "Standard": 60, "Medium Terrestrial": 50, "Small Terrestrial": 40
            };

            const positions = [
                [20, 0.85], [180, 0.5], [260, 0.3], [75, 0.65], [340, 0.6], 
                [130, 0.9], [300, 0.8], [220, 0.75], [190, 0.9], [45, 0.35]
            ];

            const containerSize = Math.min(galaxyContainer.clientWidth, galaxyContainer.clientHeight) || 900;
            const centerOffset = 80;

            planets.forEach((planet, i) => {
                const [angle, distancePercent] = positions[i];
                const maxRadius = containerSize / 2 - centerOffset;
                const radius = centerOffset + (distancePercent * maxRadius);
                const size = sizeMap[planet.sizeCategory] || 60;
                const angleRad = angle * (Math.PI / 180);

                const xPercent = 50 + (radius / (containerSize / 2) * 50) * Math.cos(angleRad);
                const yPercent = 50 + (radius / (containerSize / 2) * 50) * Math.sin(angleRad);

                const planetEl = document.createElement('div');
                planetEl.classList.add('planet');
                planetEl.style.width = `${size}px`;
                planetEl.style.height = `${size}px`;
                planetEl.style.left = `${xPercent}%`;
                planetEl.style.top = `${yPercent}%`;
                planetEl.style.transform = `translate(-50%, -50%)`;

                if (planet.image) {
                    planetEl.style.backgroundImage = `url('${planet.image}')`;
                } else {
                    planetEl.style.backgroundColor = `hsl(${i * 36}, 70%, 50%)`;
                    planetEl.style.boxShadow = `0 0 15px hsl(${i * 36}, 70%, 50%)`;
                }
                
                const planetNameEl = document.createElement('div');
                planetNameEl.classList.add('planet-name');
                planetNameEl.textContent = planet.name;
                planetEl.appendChild(planetNameEl);

                planetEl.addEventListener('click', () => {
                    modalTitle.textContent = planet.name;
                    const imageUrl = planet.image || `https://placehold.co/200x200/111827/EAEAEA?text=${planet.name}`;
                    modalImageContainer.style.backgroundImage = `url('${imageUrl}')`;
                    
                    let statsHtml = '';
                    if (planet.stats) {
                        for (const [key, value] of Object.entries(planet.stats)) {
                            statsHtml += `<tr><td>${key}:</td><td>${value}</td></tr>`;
                        }
                    } else {
                        statsHtml = '<tr><td>No data available.</td></tr>';
                    }
                    modalStats.innerHTML = statsHtml;
                    
                    const loreParts = planet.description.split('\n\nInhabitants\n\n');
                    let descriptionHtml = `<p>${loreParts[0].replace(/\n/g, '<br>')}</p>`;
                    if (loreParts.length > 1) {
                        descriptionHtml += `<h4>Inhabitants</h4><p>${loreParts[1].replace(/\n/g, '<br>')}</p>`;
                    }
                    modalDescription.innerHTML = descriptionHtml;

                    modal.classList.add('active');
                });

                galaxyContainer.appendChild(planetEl);
            });

            const closeModal = () => {
                modal.classList.remove('active');
            };

            modalClose.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });
        });
    </script>

</body>
</html>
